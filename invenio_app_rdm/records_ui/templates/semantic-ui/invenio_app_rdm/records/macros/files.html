{#
  Copyright (C) 2020-2024 CERN.
  Copyright (C) 2023 Northwestern University.
  Copyright (C) 2021 Graz University of Technology.
  Copyright (C) 2021 TU Wien.
  Copyright (C) New York University.

  Invenio RDM Records is free software; you can redistribute it and/or modify
  it under the terms of the MIT License; see LICENSE file for more details.
#}

{% from "invenio_app_rdm/records/macros/files/preview_file.html"
import preview_file as _preview_file with context %}
{% from "invenio_app_rdm/records/macros/files/preview_file_box.html"
import preview_file_box as _preview_file_box with context %}
{% from "invenio_app_rdm/records/macros/files/file_list.html"
import file_list as _file_list with context %}
{% from "invenio_app_rdm/records/macros/files/file_list_box.html"
import file_list_box as _file_list_box with context %}
{% from "invenio_app_rdm/records/macros/files/media_file_list_box.html"
import media_file_list_box as _media_file_list_box with context %}

{%- macro preview_file(preview_endpoint, pid_value, filename, is_preview, include_deleted, id='preview-iframe' ) %}
    {{ _preview_file(preview_endpoint, pid_value, filename, is_preview, include_deleted, id='preview-iframe') }}
{%- endmacro %}

{% macro preview_file_box(file, pid, is_preview, record, include_deleted) %}
    {{ _preview_file_box(file, pid, is_preview, record, include_deleted) }}
{%- endmacro %}

{%- macro file_list(
    files, pid, is_preview, include_deleted,
    record=None,
    with_preview=true,
    download_endpoint='invenio_app_rdm_records.record_file_download',
    preview_endpoint='invenio_app_rdm_records.record_file_preview',
    is_media=false,
    permissions=None
    ) %}
    {{ _file_list(files, pid, is_preview, include_deleted,
        record=record,
        with_preview=with_preview,
        download_endpoint=download_endpoint,
        preview_endpoint=preview_endpoint,
        is_media=is_media,
        permissions=permissions) }}
{%- endmacro %}

{% macro file_list_box(files, pid, is_preview, include_deleted, record, permissions) %}
    {{ _file_list_box(files, pid, is_preview, include_deleted, record, permissions) }}
{%- endmacro %}

{% macro media_file_list_box(files, pid, is_preview, include_deleted, record, permissions) %}
    {{ _media_file_list_box(files, pid, is_preview, include_deleted, record, permissions) }}
{%- endmacro %}
