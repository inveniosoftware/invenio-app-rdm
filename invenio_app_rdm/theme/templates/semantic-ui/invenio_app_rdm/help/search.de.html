{#
  Copyright (C) 2021 CERN.
  Copyright (C) 2021 Graz University of Technology.
  Copyright (C) 2021 TU Wien.
  Copyright (C) 2026 University of Münster.

  Invenio App RDM is free software; you can redistribute it and/or modify it
  under the terms of the MIT License; see LICENSE file for more details.
#}
{%- set title = _("Search guide") %}
{%- extends config.BASE_TEMPLATE %}

{%- block page_body %}
<div class="ui container mt-25">
  <h2>Suchanleitung</h2>
  <p>Diese Anleitung erklärt anhand von leicht verständlichen Beispielen, wie man erweiterte Suchanfragen stellt.</p>
  <h3>Einfache Suche (ein oder mehrere Begriffe)</h3>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=open%20science"><code>open science</code></a>
  </p>
  <p>
    Die Ergebnisse entsprechen Datensätzen, die einen der <em>Begriffe</em> <code>open</code> <em>oder</em> <code>science</code>
    in einem <em>beliebigen Feld</em> beinhalten. Beachten Sie, dass eine Wortstamm-Erkennung angewendet wird, sodass
    z. B. <em>science</em> auch mit <em>sciences</em> übereinstimmt. Die Suchergebnisse werden mithilfe eines
    Algorithmus sortiert, der Ihre Suchbegriffe berücksichtigt. Sie können das <em>Vorhandensein</em> beider Begriffe
    entweder mit dem <code>+</code>- oder dem <code>AND</code>-Operator erzwingen:
  </p>
  <p>
    <strong>Beispiele:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%2Bopen%20%2Bscience"><code>+open +science</code></a>
    oder
    <a href="/search?page=1&amp;size=20&amp;q=open%20AND%20science"><code>open AND science</code></a>
  </p>
  <p>
    Sie können das <em>Nichtvorhandensein</em> eines oder mehrerer Begriffe mit dem <code>-</code>- oder dem
    <code>NOT</code>-Operator erzwingen:
  </p>
  <p>
    <strong>Beispiele:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=-open%20%2Bscience"><code>-open +science</code></a>
    oder
    <a href="/search?page=1&amp;size=20&amp;q=NOT%20open%20AND%20science"><code>NOT open AND science</code></a>
  </p>
  <h3>Phrasensuche</h3>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%22open%20science%22"><code>"open science"</code></a>
  </p>
  <p>
    Die Ergebnisse entsprechen Datensätzen mit der <em>Phrase</em> <code>open science</code> in einem <em>beliebigen
    Feld</em>.
  </p>
  <h3>Feldsuche</h3>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:open"><code>metadata.title:open</code></a>
  </p>
  <p>
    Die Ergebnisse stimmen mit Datensätzen überein, bei denen das <em>Feld</em> <code>metadata.title</code> den <em>Begriff</em>
    <code>open</code> enthält. Wenn Sie nach mehreren Begriffen im Titel suchen möchten, müssen Sie die Begriffe mit
    Klammern <strong>gruppieren</strong>:
  </p>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:(open%20science%29">
      <code>metadata.title:(open science)</code>
    </a>
  </p>
  <p>
    Die vollständige Liste der Felder, die Sie durchsuchen können, finden Sie in der InvenioRDM-Dokumentation:
    <a href="https://inveniordm.docs.cern.ch/reference/metadata/#metadata">
      https://inveniordm.docs.cern.ch/reference/metadata/#metadata
    </a>.
  </p>
  <h3>Kombinierte einfache, Phrasen- oder Feldsuche</h3>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%2Bmetadata.title:%22open%20science%22%20-metadata.title:policy">
      <code>+metadata.title:"open science" -metadata.title:policy</code>
    </a>
    oder z. B.
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:(-open%20%2Bscience%29">
      <code>metadata.title:(-open +science)</code>
    </a>
  </p>
  <p>
    Sie können einfache, Phrasen- und Feldsuchen kombinieren, um erweiterte Suchanfragen zu konstruieren.
  </p>
  <h3>Bereichssuche</h3>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.publication_date:%5B2017%20TO%202018%5D">
      <code>metadata.publication_date:[2017 TO 2018]</code>
    </a>
    (Achtung: <code>TO</code> muss großgeschrieben werden.)
  </p>
  <p>
    Die Ergebnisse entsprechen allen Datensätzen mit einem Veröffentlichungsdatum zwischen 2017-01-01 und 2018-01-01
    (beide Daten eingeschlossen).
  </p>
  <p>
    Beachten Sie, dass partielle Daten zu vollständigen Daten ergänzt werden, z. B.:
  </p>
  <ul>
    <li><code>2017</code> wird ergänzt zu <code>2017-01-01</code></li>
    <li><code>2017-06</code> wird ergänzt zu <code>2017-06-01</code></li>
  </ul>
  <p>
    Verwenden Sie eckige Klammern (<code>[]</code>) für <em>einschließende</em> Bereiche und geschweifte Klammern
    (<code>{}</code>) für <em>ausschließende</em> Bereiche, z. B.:
  </p>
  <ul>
    <li><code>[2017 TO 2018}</code> ist aufgrund der Datumsergänzung und der exklusiven Obergrenze äquivalent zu
      <code>[2017-01-01 TO 2017-12-31]</code>.
    </li>
  </ul>
  <p>Beispiele für andere Bereiche:</p>
  <ul>
    <li>
      <code>metadata.publication_date:{* TO 2017-01-01}</code>: Alle Tage bis 2017.
    </li>
    <li>
      <code>metadata.publication_date:[2017-01-01 TO *]</code>: Alle Tage ab 2017.
    </li>
  </ul>
  <h3>Ranking/Sortierung</h3>
  <p>
    Standardmäßig werden alle Suchergebnisse mithilfe eines internen Ranking-Algorithmus sortiert, der jedes
    Suchergebnis anhand Ihrer Suchparameter bewertet. Sowohl in der Benutzeroberfläche als auch in der REST-API ist es
    möglich, die Ergebnisse zu sortieren nach:
  </p>
  <ul>
    <li>Beste Übereinstimmung</li>
    <li>Neuste</li>
    <li>Älteste</li>
    <li>Am häufigsten angesehen</li>
    <li>Am häufigsten heruntergeladen</li>
  </ul>
  <h3>Reguläre Ausdrücke</h3>
  <p>
    Reguläre Ausdrücke sind eine mächtige Sprache für den Mustervergleich, mit der man nach bestimmten Mustern in
    einem Feld suchen kann. Wenn Sie zum Beispiel alle Datensätze mit dem DOI-Präfix <code>10.5281</code> finden
    wollen, können Sie eine Suche mit regulären Ausdrücken verwenden:
  </p>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=pids.doi.identifier%3A%2F10\.5281.*%2F">
      <code>pids.doi.identifier:/10\.5281.*/</code>
    </a>
  </p>
  <p>
    Vorsicht: Der reguläre Ausdruck muss mit dem <em>gesamten</em> Feldwert übereinstimmen. Weitere Einzelheiten
    finden Sie auf der englischsprachigen Website
    <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-regexp-query.html#regexp-syntax">
      &quot;Regular expression syntax&quot;
    </a>.
  </p>
  <h3>Fehlende Werte</h3>
  <p>
    Es ist möglich, mit den Feldnamen <code>_exists_</code> und <code>NOT _exists_</code> nach Datensätzen zu suchen,
    bei denen ein Wert fehlt oder vorhanden ist.
  </p>
  <p>
    <strong>Beispiel:</strong>
  <ul>
    <li>
      <a href="/search?page=1&amp;size=20&amp;q=NOT%20_exists_:metadata.additional_titles">
        <code>NOT _exists_:metadata.additional_titles</code>
      </a>
      (alle Datensätze ohne <code>metadata.additional_titles</code>)
    </li>
    <li>
      <a href="/search?page=1&amp;size=20&amp;q=_exists_:metadata.creators">
        <code>_exists_:metadata.creators</code>
      </a>
      (alle Datensätze mit <code>metadata.creators</code>)
    </li>
  </ul>
  </p>
  <h3>Erweiterte Konzepte</h3>
  <h4>Boosten</h4>
  <p>
    Sie können den Boost-Operator <code>^</code> verwenden, wenn ein Begriff relevanter ist als ein anderer. Sie
    können z. B. nach allen Datensätzen suchen, die die Phrase <code>open science</code> entweder im
    <code>title</code>- oder im <code>description</code>-Feld enthalten, aber Datensätze mit der Phrase im
    <code>title</code>-Feld höher einstufen:
  </p>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:%22open%20science%22%5E5%20metadata.description:%22open%20science%22">
      <code>metadata.title:"open science"^5 metadata.description:"open science"</code>
    </a>
  </p>
  <h4>Unschärfe</h4>
  <p>
    Mit dem Fuzzy-Operator <code>~</code> können Sie nach Begriffen suchen, die Ihrem Suchbegriff ähnlich, aber nicht
    exakt gleich sind.
  </p>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=oepn~"><code>oepn~</code></a>
  </p>
  <p>
    Die Ergebnisse entsprechen Datensätzen mit ähnlichen Begriffen, die auch für z.B. <code>open</code> Suchtreffer
    ergeben würden (z. B. mit Rechtschreibfehlern).
  </p>
  <h4>Näherungssuche</h4>
  <p>
    Eine Phrasensuche wie <code>&quot;open science&quot;</code> erwartet standardmäßig alle Begriffe in genau der
    gleichen Reihenfolge und würde daher z. B. nicht auf einen Datensatz passen, der die Phrase <code>&quot;open
    access and science&quot;</code> enthält. Eine Näherungssuche erlaubt, dass die Begriffe nicht in der exakten
    Reihenfolge stehen und auch andere Begriffe dazwischen enthalten können. Der Grad der Flexibilität wird durch eine
    Ganzzahl angegeben:
  </p>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%22open%20science%22~5"><code>"open science"~5</code></a>
  </p>
  <h4>Platzhalter (&quot;Wildcards&quot;)</h4>
  <p>
    Sie können Platzhalter in Suchbegriffen verwenden, um
  </p>
  <ul>
    <li>ein einzelnes Zeichen (<code>?</code>-Operator) oder</li>
    <li>kein bis mehrere Zeichen (<code>*</code>-Operator)</li>
  </ul>
  <p>
  zu ersetzen.
  </p>
  <p>
    <strong>Beispiel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=ope%3F%20scien*"><code>ope? scien*</code></a>
  </p>
  <p>
    Platzhaltersuchen können langsam sein und sollten nach Möglichkeit vermieden werden.
  </p>
</div>
{%- endblock page_body %}
